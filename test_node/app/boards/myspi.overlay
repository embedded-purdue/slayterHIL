/ {
    aliases {
		myspi = &spi2;
	};
};

&spi2 {
    // SAME SETTINGS AS DEFAULT OVERLAY; JUST HERE FOR CLARITY
    #address-cells = <1>;
    #size-cells = <0>;
    status = "okay";
	// default configuration inherited by device tree
    // MISO: 13; SCLK: 12; CSEL: 10; MOSI: 11, OUTPUT LOW ON START

    pinctrl-0 = <&spim2_default>;
    pinctrl-names = "default";

    // CUSTOM SETTINGS (except these seem to get built by zephyr too)
    compatible = "espressif,esp32-spi";

    // TRUE CUSTOM SETTINGS
    cs-gpios = <&gpio0 10 GPIO_ACTIVE_LOW>;

    esp32: esp32@0 {
        compatible = "vnd,spi-device";
        reg = <0>;
        spi-max-frequency = <1600000>;
        label = "esp32";
    };
};

// same as in pinctrl dsi; this is just for clarity 
&pinctrl {
	spim2_default: spim2_default {
		group1 {
			pinmux = 
                <SPIM2_MISO_GPIO13>,
				 <SPIM2_SCLK_GPIO12>,
				 <SPIM2_CSEL_GPIO10>;
		};

		group2 {
			pinmux = <SPIM2_MOSI_GPIO11>;
			output-low;
		};
	};
};
